(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{181:function(t,e,r){"use strict";r.d(e,"f",(function(){return o})),r.d(e,"h",(function(){return c})),r.d(e,"j",(function(){return l})),r.d(e,"a",(function(){return f})),r.d(e,"d",(function(){return d})),r.d(e,"e",(function(){return v})),r.d(e,"b",(function(){return m})),r.d(e,"i",(function(){return h})),r.d(e,"g",(function(){return _})),r.d(e,"k",(function(){return O})),r.d(e,"c",(function(){return j}));var n=r(61),o=function(t){return Object(n.b)({method:"GET",url:"/api/articles",params:t})},c=function(t){return Object(n.b)({method:"GET",url:"/api/articles/feed",params:t})},l=function(data){return Object(n.b)({method:"POST",url:"/api/articles",data:data})},f=function(t){return Object(n.b)({method:"POST",url:"/api/articles/".concat(t,"/favorite")})},d=function(t){return Object(n.b)({method:"DELETE",url:"/api/articles/".concat(t,"/favorite")})},v=function(t){return Object(n.b)({method:"GET",url:"/api/articles/".concat(t)})},m=function(t){return Object(n.b)({method:"DELETE",url:"/api/articles/".concat(t)})},h=function(t,data){return Object(n.b)({method:"PUT",url:"/api/articles/".concat(t),data:data})},_=function(t){return Object(n.b)({method:"GET",url:"/api/articles/".concat(t,"/comments")})},O=function(t,data){return Object(n.b)({method:"POST",url:"/api/articles/".concat(t,"/comments"),data:data})},j=function(t,e){return Object(n.b)({method:"DELETE",url:"/api/articles/".concat(t,"/comments/").concat(e)})}},183:function(t,e,r){var n=r(6),o=r(25),c=r(11),l=r(184),f="["+l+"]",d=RegExp("^"+f+f+"*"),v=RegExp(f+f+"*$"),m=function(t,e,r){var o={},f=c((function(){return!!l[t]()||"​"!="​"[t]()})),d=o[t]=f?e(h):l[t];r&&(o[r]=d),n(n.P+n.F*f,"String",o)},h=m.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(v,"")),t};t.exports=m},184:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},188:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return c}));var n=r(61),o=function(t){return Object(n.b)({method:"POST",url:"/api/profiles/".concat(t,"/follow")})},c=function(t){return Object(n.b)({method:"DELETE",url:"/api/profiles/".concat(t,"/follow")})}},189:function(t,e,r){"use strict";var n=r(3),o=r(17),c=r(24),l=r(118),f=r(63),d=r(11),v=r(45).f,m=r(64).f,h=r(9).f,_=r(183).trim,O=n.Number,j=O,w=O.prototype,C="Number"==c(r(76)(w)),E="trim"in String.prototype,x=function(t){var e=f(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,c=(e=E?e.trim():_(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var code,l=e.slice(2),i=0,d=l.length;i<d;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,n)}}return+e};if(!O(" 0o1")||!O("0b1")||O("+0x1")){O=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof O&&(C?d((function(){w.valueOf.call(r)})):"Number"!=c(r))?l(new j(x(e)),r,O):x(e)};for(var y,k=r(8)?v(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;k.length>I;I++)o(j,y=k[I])&&!o(O,y)&&h(O,y,m(j,y));O.prototype=w,w.constructor=O,r(12)(n,"Number",O)}},190:function(t,e,r){var n=r(6),o=r(191);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},191:function(t,e,r){var n=r(3).parseInt,o=r(183).trim,c=r(184),l=/^[-+]?0[xX]/;t.exports=8!==n(c+"08")||22!==n(c+"0x16")?function(t,e){var r=o(String(t),3);return n(r,e>>>0||(l.test(r)?16:10))}:n},192:function(t,e,r){"use strict";r(32);var n=r(5),o=r(181),c={props:{article:{type:Object}},data:function(){return{favoriteDisabled:!1}},methods:{onFavorite:function(article){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.favoriteDisabled=!0,!article.favorited){e.next=8;break}return e.next=4,Object(o.d)(article.slug);case 4:article.favorited=!1,article.favoritesCount+=-1,e.next=12;break;case 8:return e.next=10,Object(o.a)(article.slug);case 10:article.favorited=!0,article.favoritesCount+=1;case 12:t.favoriteDisabled=!1;case 13:case"end":return e.stop()}}),e)})))()}}},l=r(20),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.article.author?r("div",{staticClass:"article-preview"},[r("div",{staticClass:"article-meta"},[r("nuxt-link",{attrs:{to:{path:"/profile?username="+t.article.author.username}}},[r("img",{attrs:{src:t.article.author.image}})]),t._v(" "),r("div",{staticClass:"info"},[r("nuxt-link",{staticClass:"author",attrs:{to:{path:"/profile?username="+t.article.author.username}}},[t._v("\n        "+t._s(t.article.author.username)+"\n      ")]),t._v(" "),r("span",{staticClass:"date"},[t._v(t._s(t._f("date")(t.article.createdAt,"MMM DD, YYYY")))])],1),t._v(" "),r("button",{staticClass:"btn btn-outline-primary btn-sm pull-xs-right",class:{active:t.article.favorited},attrs:{disabled:t.favoriteDisabled},on:{click:function(e){return t.onFavorite(t.article)}}},[r("i",{staticClass:"ion-heart"}),t._v(" "+t._s(t.article.favoritesCount)+"\n    ")])],1),t._v(" "),r("nuxt-link",{staticClass:"preview-link",attrs:{to:{path:"/article?slug="+t.article.slug}}},[r("h1",[t._v(t._s(t.article.title))]),t._v(" "),r("p",[t._v(t._s(t.article.description))]),t._v(" "),r("span",[t._v("Read more...")]),t._v(" "),r("ul",{staticClass:"tag-list"},t._l(t.article.tagList,(function(e){return r("li",{key:e,staticClass:"tag-default tag-pill tag-outline"},[t._v("\n        "+t._s(e)+"\n      ")])})),0)])],1):t._e()}),[],!1,null,null,null);e.a=component.exports},258:function(t,e,r){"use strict";r.r(e);r(62),r(21),r(44),r(22),r(10),r(46);var n=r(42),o=r(23),c=(r(189),r(190),r(32),r(5)),l=r(192),article=r(181),f=r(61),d=r(188),v=r(33);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={middleware:"authenticated",name:"profile",components:{ArticleItem:l.a},watchQuery:["page","tab"],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,d,param,v,m,_,data,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,o=Number.parseInt(r.page)||1,l=(o-1)*(c=5),d=r.tab||void 0,param={limit:c,offset:l,tab:d},v="favorite"==d?Object(article.f)(h(h({},param),{},{favorited:r.username})):Object(article.f)(h(h({},param),{},{author:r.username})),e.next=9,Promise.all([(j=r.username,Object(f.b)({method:"GET",url:"/api/profiles/".concat(j)})),v]);case 9:return m=e.sent,_=Object(n.a)(m,2),data=_[0].data,O=_[1].data,console.log(data),e.abrupt("return",h(h({tab:d,page:o,limit:c,offset:l},data),O));case 15:case"end":return e.stop()}var j}),e)})))()},data:function(){return{tabs:[{name:"My Articles",id:void 0},{name:"Favorited Articles",id:"favorite"}],disabledFollow:!1}},computed:h(h({},Object(v.b)(["user"])),{},{totalPage:function(){return Math.ceil(this.articlesCount/this.limit)||1}}),created:function(){this.user&&(this.disabledFollow=this.user.username==this.profile.username)},methods:{follow:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.disabledFollow){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,t.disabledFollow=!0,!t.profile.following){e.next=9;break}return e.next=7,Object(d.b)(t.profile.username);case 7:e.next=11;break;case 9:return e.next=11,Object(d.a)(t.profile.username);case 11:t.profile.following=!t.profile.following,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:return e.prev=17,t.disabledFollow=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))()}}},O=r(20),component=Object(O.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"profile-page"},[t.profile?r("div",{staticClass:"user-info"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[r("img",{staticClass:"user-img",attrs:{src:t.profile.image}}),t._v(" "),r("h4",[t._v(t._s(t.profile.username))]),t._v(" "),r("p",[t._v("\n            "+t._s(t.profile.bio)+"\n          ")]),t._v(" "),t.user.username!=t.profile.username?r("button",{staticClass:"btn btn-sm btn-outline-secondary action-btn",attrs:{disabled:t.disabledFollow},on:{click:t.follow}},[r("i",{staticClass:"ion-plus-round"}),t._v("\n              "+t._s(t.profile.following?"Unf":"F")+"ollow\n            "+t._s(t.profile.username)+"\n          ")]):r("nuxt-link",{staticClass:"btn btn-sm btn-outline-secondary action-btn",attrs:{"ui-sref":"app.settings",to:"/settings"}},[r("i",{staticClass:"ion-gear-a"}),t._v(" Edit Profile Settings\n          ")])],1)])])]):t._e(),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[r("div",{staticClass:"articles-toggle"},[r("ul",{staticClass:"nav nav-pills outline-active"},t._l(t.tabs,(function(e){return r("nuxt-link",{key:e.name,staticClass:"nav-item",attrs:{to:{path:t.$route.path,query:Object.assign({},t.$route.query,{tab:e.id,page:1})}}},[r("span",{staticClass:"nav-link",class:{active:e.id==t.tab}},[t._v(t._s(e.name))])])})),1)]),t._v(" "),t._l(t.articles,(function(article,i){return r("ArticleItem",{key:i,staticClass:"article-preview",attrs:{article:article}})})),t._v(" "),r("div",{staticClass:"col-md-3"},[r("nav",[t.totalPage>1?r("ul",{staticClass:"pagination"},t._l(t.totalPage,(function(e){return r("li",{key:e,staticClass:"page-item",class:{active:e===t.page}},[r("nuxt-link",{staticClass:"page-link",attrs:{to:{path:t.$route.path,query:Object.assign({},t.$route.query,{page:e})}}},[t._v(t._s(e))])],1)})),0):t._e()])])],2)])])])}),[],!1,null,null,null);e.default=component.exports}}]);